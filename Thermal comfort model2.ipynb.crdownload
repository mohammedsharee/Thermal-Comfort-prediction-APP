{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Thermal Comfort Prediction Model\n",
    "\n",
    "ASHRAE Global Thermal Comfort Database II given by https://datadryad.org/stash/dataset/doi:10.6078/D1F671"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Data Preprocessing"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "from sklearn import svm\n",
    "from sklearn.ensemble import RandomForestClassifier\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.model_selection import RandomizedSearchCV"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "df=pd.read_excel(\"C:\\\\Users\\\\Mohammed Shreef\\\\Desktop\\\\HiWi\\\\ashrae_data.xlsx\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "NT=pd.DataFrame(df.isnull().sum())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>0</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Publication (Citation)</th>\n",
       "      <td>1655</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Data contributor</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Year</th>\n",
       "      <td>248</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Season</th>\n",
       "      <td>241</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Koppen climate classification</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Climate</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>City</th>\n",
       "      <td>13</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Country</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Building type</th>\n",
       "      <td>4199</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cooling startegy_building level</th>\n",
       "      <td>1227</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cooling startegy_operation mode for MM buildings</th>\n",
       "      <td>81064</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Heating strategy_building level</th>\n",
       "      <td>69818</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Age</th>\n",
       "      <td>64004</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Sex</th>\n",
       "      <td>40548</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Thermal sensation</th>\n",
       "      <td>3129</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Thermal sensation acceptability</th>\n",
       "      <td>45139</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Thermal preference</th>\n",
       "      <td>22083</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Air movement acceptability</th>\n",
       "      <td>91236</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Air movement preference</th>\n",
       "      <td>64208</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Thermal comfort</th>\n",
       "      <td>71248</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>PMV</th>\n",
       "      <td>40849</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>PPD</th>\n",
       "      <td>40849</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>SET</th>\n",
       "      <td>41065</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Clo</th>\n",
       "      <td>7920</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Met</th>\n",
       "      <td>17164</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>activity_10</th>\n",
       "      <td>98773</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>activity_20</th>\n",
       "      <td>97884</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>activity_30</th>\n",
       "      <td>98829</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>activity_60</th>\n",
       "      <td>97986</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Air temperature (¡C)</th>\n",
       "      <td>7672</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Air temperature (¡F)</th>\n",
       "      <td>7672</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Ta_h (¡C)</th>\n",
       "      <td>79559</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Ta_h (¡F)</th>\n",
       "      <td>79559</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Ta_m (¡C)</th>\n",
       "      <td>76435</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Ta_m (¡F)</th>\n",
       "      <td>76435</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      0\n",
       "Publication (Citation)                             1655\n",
       "Data contributor                                      0\n",
       "Year                                                248\n",
       "Season                                              241\n",
       "Koppen climate classification                         0\n",
       "Climate                                               0\n",
       "City                                                 13\n",
       "Country                                               0\n",
       "Building type                                      4199\n",
       "Cooling startegy_building level                    1227\n",
       "Cooling startegy_operation mode for MM buildings  81064\n",
       "Heating strategy_building level                   69818\n",
       "Age                                               64004\n",
       "Sex                                               40548\n",
       "Thermal sensation                                  3129\n",
       "Thermal sensation acceptability                   45139\n",
       "Thermal preference                                22083\n",
       "Air movement acceptability                        91236\n",
       "Air movement preference                           64208\n",
       "Thermal comfort                                   71248\n",
       "PMV                                               40849\n",
       "PPD                                               40849\n",
       "SET                                               41065\n",
       "Clo                                                7920\n",
       "Met                                               17164\n",
       "activity_10                                       98773\n",
       "activity_20                                       97884\n",
       "activity_30                                       98829\n",
       "activity_60                                       97986\n",
       "Air temperature (¡C)                               7672\n",
       "Air temperature (¡F)                               7672\n",
       "Ta_h (¡C)                                         79559\n",
       "Ta_h (¡F)                                         79559\n",
       "Ta_m (¡C)                                         76435\n",
       "Ta_m (¡F)                                         76435"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "NT.head(35)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['Publication (Citation)', 'Data contributor', 'Year', 'Season',\n",
       "       'Koppen climate classification', 'Climate', 'City', 'Country',\n",
       "       'Building type', 'Cooling startegy_building level',\n",
       "       'Cooling startegy_operation mode for MM buildings',\n",
       "       'Heating strategy_building level', 'Age', 'Sex', 'Thermal sensation',\n",
       "       'Thermal sensation acceptability', 'Thermal preference',\n",
       "       'Air movement acceptability', 'Air movement preference',\n",
       "       'Thermal comfort', 'PMV', 'PPD', 'SET', 'Clo', 'Met', 'activity_10',\n",
       "       'activity_20', 'activity_30', 'activity_60', 'Air temperature (¡C)',\n",
       "       'Air temperature (¡F)', 'Ta_h (¡C)', 'Ta_h (¡F)', 'Ta_m (¡C)',\n",
       "       'Ta_m (¡F)', 'Ta_l (¡C)', 'Ta_l (¡F)', 'Operative temperature (¡C)',\n",
       "       'Operative temperature (¡F)', 'Radiant temperature (¡C)',\n",
       "       'Radiant temperature (¡F)', 'Globe temperature (¡C)',\n",
       "       'Globe temperature (¡F)', 'Tg_h (¡C)', 'Tg_h (¡F)', 'Tg_m (¡C)',\n",
       "       'Tg_m (¡F)', 'Tg_l (¡C)', 'Tg_l (¡F)', 'Relative humidity (%)',\n",
       "       'Humidity preference', 'Humidity sensation', 'Air velocity (m/s)',\n",
       "       'Air velocity (fpm)', 'Velocity_h (m/s)', 'Velocity_h (fpm)',\n",
       "       'Velocity_m (m/s)', 'Velocity_m (fpm)', 'Velocity_l (m/s)',\n",
       "       'Velocity_l (fpm)', 'Subject«s height (cm)', 'Subject«s weight (kg)',\n",
       "       'Blind (curtain)', 'Fan', 'Window', 'Door', 'Heater',\n",
       "       'Outdoor monthly air temperature (¡C)',\n",
       "       'Outdoor monthly air temperature (¡F)', 'Database'],\n",
       "      dtype='object')"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.columns"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Choosinh only columns(Features) that has more influence on predicting Thermal comfort\n",
    "train_data= ['Clo','Met','Air temperature (¡C)','Radiant temperature (¡C)','Relative humidity (%)','Air velocity (m/s)','Thermal sensation', 'PMV']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "clean_data=df[train_data]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Clo</th>\n",
       "      <th>Met</th>\n",
       "      <th>Air temperature (¡C)</th>\n",
       "      <th>Radiant temperature (¡C)</th>\n",
       "      <th>Relative humidity (%)</th>\n",
       "      <th>Air velocity (m/s)</th>\n",
       "      <th>Thermal sensation</th>\n",
       "      <th>PMV</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Clo</th>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.021563</td>\n",
       "      <td>-0.465531</td>\n",
       "      <td>-0.496026</td>\n",
       "      <td>-0.256446</td>\n",
       "      <td>-0.109063</td>\n",
       "      <td>-0.184438</td>\n",
       "      <td>-0.005482</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Met</th>\n",
       "      <td>0.021563</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.082616</td>\n",
       "      <td>0.007953</td>\n",
       "      <td>-0.099590</td>\n",
       "      <td>-0.007087</td>\n",
       "      <td>0.060355</td>\n",
       "      <td>0.243532</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Air temperature (¡C)</th>\n",
       "      <td>-0.465531</td>\n",
       "      <td>-0.082616</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.919198</td>\n",
       "      <td>0.115516</td>\n",
       "      <td>0.224138</td>\n",
       "      <td>0.379257</td>\n",
       "      <td>0.781023</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Radiant temperature (¡C)</th>\n",
       "      <td>-0.496026</td>\n",
       "      <td>0.007953</td>\n",
       "      <td>0.919198</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.056033</td>\n",
       "      <td>0.133177</td>\n",
       "      <td>0.441187</td>\n",
       "      <td>0.761725</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Relative humidity (%)</th>\n",
       "      <td>-0.256446</td>\n",
       "      <td>-0.099590</td>\n",
       "      <td>0.115516</td>\n",
       "      <td>0.056033</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.087463</td>\n",
       "      <td>-0.018958</td>\n",
       "      <td>0.077893</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Air velocity (m/s)</th>\n",
       "      <td>-0.109063</td>\n",
       "      <td>-0.007087</td>\n",
       "      <td>0.224138</td>\n",
       "      <td>0.133177</td>\n",
       "      <td>0.087463</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.040815</td>\n",
       "      <td>0.058359</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Thermal sensation</th>\n",
       "      <td>-0.184438</td>\n",
       "      <td>0.060355</td>\n",
       "      <td>0.379257</td>\n",
       "      <td>0.441187</td>\n",
       "      <td>-0.018958</td>\n",
       "      <td>0.040815</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.332810</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>PMV</th>\n",
       "      <td>-0.005482</td>\n",
       "      <td>0.243532</td>\n",
       "      <td>0.781023</td>\n",
       "      <td>0.761725</td>\n",
       "      <td>0.077893</td>\n",
       "      <td>0.058359</td>\n",
       "      <td>0.332810</td>\n",
       "      <td>1.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                               Clo       Met  Air temperature (¡C)  \\\n",
       "Clo                       1.000000  0.021563             -0.465531   \n",
       "Met                       0.021563  1.000000             -0.082616   \n",
       "Air temperature (¡C)     -0.465531 -0.082616              1.000000   \n",
       "Radiant temperature (¡C) -0.496026  0.007953              0.919198   \n",
       "Relative humidity (%)    -0.256446 -0.099590              0.115516   \n",
       "Air velocity (m/s)       -0.109063 -0.007087              0.224138   \n",
       "Thermal sensation        -0.184438  0.060355              0.379257   \n",
       "PMV                      -0.005482  0.243532              0.781023   \n",
       "\n",
       "                          Radiant temperature (¡C)  Relative humidity (%)  \\\n",
       "Clo                                      -0.496026              -0.256446   \n",
       "Met                                       0.007953              -0.099590   \n",
       "Air temperature (¡C)                      0.919198               0.115516   \n",
       "Radiant temperature (¡C)                  1.000000               0.056033   \n",
       "Relative humidity (%)                     0.056033               1.000000   \n",
       "Air velocity (m/s)                        0.133177               0.087463   \n",
       "Thermal sensation                         0.441187              -0.018958   \n",
       "PMV                                       0.761725               0.077893   \n",
       "\n",
       "                          Air velocity (m/s)  Thermal sensation       PMV  \n",
       "Clo                                -0.109063          -0.184438 -0.005482  \n",
       "Met                                -0.007087           0.060355  0.243532  \n",
       "Air temperature (¡C)                0.224138           0.379257  0.781023  \n",
       "Radiant temperature (¡C)            0.133177           0.441187  0.761725  \n",
       "Relative humidity (%)               0.087463          -0.018958  0.077893  \n",
       "Air velocity (m/s)                  1.000000           0.040815  0.058359  \n",
       "Thermal sensation                   0.040815           1.000000  0.332810  \n",
       "PMV                                 0.058359           0.332810  1.000000  "
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "clean_data.corr()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(107583, 8)"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "clean_data.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Clo                         float64\n",
       "Met                         float64\n",
       "Air temperature (¡C)        float64\n",
       "Radiant temperature (¡C)    float64\n",
       "Relative humidity (%)       float64\n",
       "Air velocity (m/s)          float64\n",
       "Thermal sensation           float64\n",
       "PMV                         float64\n",
       "dtype: object"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "clean_data.dtypes"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Clo                          7920\n",
       "Met                         17164\n",
       "Air temperature (¡C)         7672\n",
       "Radiant temperature (¡C)    75110\n",
       "Relative humidity (%)        9821\n",
       "Air velocity (m/s)          17691\n",
       "Thermal sensation            3129\n",
       "PMV                         40849\n",
       "dtype: int64"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "clean_data.isnull().sum()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Clo</th>\n",
       "      <th>Met</th>\n",
       "      <th>Air temperature (¡C)</th>\n",
       "      <th>Radiant temperature (¡C)</th>\n",
       "      <th>Relative humidity (%)</th>\n",
       "      <th>Air velocity (m/s)</th>\n",
       "      <th>Thermal sensation</th>\n",
       "      <th>PMV</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.25</td>\n",
       "      <td>NaN</td>\n",
       "      <td>24.2</td>\n",
       "      <td>NaN</td>\n",
       "      <td>50.2</td>\n",
       "      <td>0.06</td>\n",
       "      <td>-0.5</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.25</td>\n",
       "      <td>NaN</td>\n",
       "      <td>24.2</td>\n",
       "      <td>NaN</td>\n",
       "      <td>50.2</td>\n",
       "      <td>0.06</td>\n",
       "      <td>-2.1</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.27</td>\n",
       "      <td>NaN</td>\n",
       "      <td>24.2</td>\n",
       "      <td>NaN</td>\n",
       "      <td>50.2</td>\n",
       "      <td>0.06</td>\n",
       "      <td>0.5</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.23</td>\n",
       "      <td>NaN</td>\n",
       "      <td>24.2</td>\n",
       "      <td>NaN</td>\n",
       "      <td>50.2</td>\n",
       "      <td>0.06</td>\n",
       "      <td>-2.5</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.34</td>\n",
       "      <td>NaN</td>\n",
       "      <td>24.2</td>\n",
       "      <td>NaN</td>\n",
       "      <td>50.2</td>\n",
       "      <td>0.06</td>\n",
       "      <td>-0.5</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    Clo  Met  Air temperature (¡C)  Radiant temperature (¡C)  \\\n",
       "0  0.25  NaN                  24.2                       NaN   \n",
       "1  0.25  NaN                  24.2                       NaN   \n",
       "2  0.27  NaN                  24.2                       NaN   \n",
       "3  0.23  NaN                  24.2                       NaN   \n",
       "4  0.34  NaN                  24.2                       NaN   \n",
       "\n",
       "   Relative humidity (%)  Air velocity (m/s)  Thermal sensation  PMV  \n",
       "0                   50.2                0.06               -0.5  NaN  \n",
       "1                   50.2                0.06               -2.1  NaN  \n",
       "2                   50.2                0.06                0.5  NaN  \n",
       "3                   50.2                0.06               -2.5  NaN  \n",
       "4                   50.2                0.06               -0.5  NaN  "
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "clean_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-13-355eb8397086>:1: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  clean_data.dropna(inplace=True)\n"
     ]
    }
   ],
   "source": [
    "clean_data.dropna(inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(30651, 8)"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "clean_data.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-15-4618c159d15b>:1: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  clean_data['PMV']=clean_data['PMV'].astype('int64')\n"
     ]
    }
   ],
   "source": [
    "clean_data['PMV']=clean_data['PMV'].astype('int64')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-16-83a467edc848>:1: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  clean_data['Thermal sensation']=clean_data['Thermal sensation'].astype('int64')\n"
     ]
    }
   ],
   "source": [
    "clean_data['Thermal sensation']=clean_data['Thermal sensation'].astype('int64')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# PMV(Predicted mean vote) model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "x=clean_data.iloc[:,0:6]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "15677    1\n",
       "15678    1\n",
       "15679    1\n",
       "15680    0\n",
       "15681    0\n",
       "Name: PMV, dtype: int64"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_pmv=clean_data.iloc[:,-1]\n",
    "y_pmv.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Clo</th>\n",
       "      <th>Met</th>\n",
       "      <th>Air temperature (¡C)</th>\n",
       "      <th>Radiant temperature (¡C)</th>\n",
       "      <th>Relative humidity (%)</th>\n",
       "      <th>Air velocity (m/s)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>15677</th>\n",
       "      <td>0.47</td>\n",
       "      <td>1.6</td>\n",
       "      <td>28.0</td>\n",
       "      <td>28.1</td>\n",
       "      <td>62.7</td>\n",
       "      <td>0.05</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15678</th>\n",
       "      <td>0.49</td>\n",
       "      <td>1.6</td>\n",
       "      <td>27.3</td>\n",
       "      <td>29.4</td>\n",
       "      <td>73.3</td>\n",
       "      <td>0.20</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15679</th>\n",
       "      <td>0.49</td>\n",
       "      <td>1.6</td>\n",
       "      <td>27.3</td>\n",
       "      <td>29.4</td>\n",
       "      <td>73.3</td>\n",
       "      <td>0.20</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15680</th>\n",
       "      <td>0.50</td>\n",
       "      <td>1.6</td>\n",
       "      <td>26.9</td>\n",
       "      <td>28.2</td>\n",
       "      <td>49.0</td>\n",
       "      <td>0.51</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15681</th>\n",
       "      <td>0.38</td>\n",
       "      <td>1.6</td>\n",
       "      <td>27.8</td>\n",
       "      <td>28.1</td>\n",
       "      <td>49.5</td>\n",
       "      <td>0.51</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "        Clo  Met  Air temperature (¡C)  Radiant temperature (¡C)  \\\n",
       "15677  0.47  1.6                  28.0                      28.1   \n",
       "15678  0.49  1.6                  27.3                      29.4   \n",
       "15679  0.49  1.6                  27.3                      29.4   \n",
       "15680  0.50  1.6                  26.9                      28.2   \n",
       "15681  0.38  1.6                  27.8                      28.1   \n",
       "\n",
       "       Relative humidity (%)  Air velocity (m/s)  \n",
       "15677                   62.7                0.05  \n",
       "15678                   73.3                0.20  \n",
       "15679                   73.3                0.20  \n",
       "15680                   49.0                0.51  \n",
       "15681                   49.5                0.51  "
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "x.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([ 1,  0, -1, -2, -3,  2,  3], dtype=int64)"
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_pmv.unique()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "15677     1\n",
       "15678     1\n",
       "15679     1\n",
       "15680     0\n",
       "15681     0\n",
       "         ..\n",
       "104034    0\n",
       "104035    0\n",
       "104036    0\n",
       "104037    0\n",
       "104038    0\n",
       "Name: PMV, Length: 30651, dtype: int64"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_pmv"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Second model output\n",
    "y_sensation=clean_data['Thermal sensation']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "15677    1\n",
       "15678    0\n",
       "15679    0\n",
       "15680    1\n",
       "15681    2\n",
       "Name: Thermal sensation, dtype: int64"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_sensation.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(30651, 6)\n",
      "(30651,)\n",
      "(30651,)\n"
     ]
    }
   ],
   "source": [
    "print(x.shape)\n",
    "print(y_pmv.shape)\n",
    "print(y_sensation.shape)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Simple Model development"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.model_selection import train_test_split"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [],
   "source": [
    "x_train, x_test, y_train, y_test=train_test_split(x, y_pmv, test_size=0.2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(24520, 6)\n",
      "(24520,)\n",
      "(6131, 6)\n"
     ]
    }
   ],
   "source": [
    "print(x_train.shape)\n",
    "print(y_train.shape)\n",
    "print(x_test.shape)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "SVC(gamma='auto')"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model=svm.SVC(gamma='auto')\n",
    "model.fit(x_train,y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.8422769531887131"
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.score(x_test,y_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [],
   "source": [
    "yhat=model.predict(x_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([-1,  0,  0,  0,  1,  0,  0, -1,  0,  0,  0,  0,  0, -1,  0,  0,  0,\n",
       "        0,  1,  0], dtype=int64)"
      ]
     },
     "execution_count": 31,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "yhat[:20]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Hyperparameter Tuning using Randomized search CV"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# from sklearn.model_selection import RandomizedSearchCV\n",
    "\n",
    "# rs=RandomizedSearchCV(svm.SVC(gamma='auto'),{\n",
    "#     'C':[1,10,20],\n",
    "#     'kernel':['rbf','linear']\n",
    "#   },\n",
    "#           cv=5,\n",
    "#           return_train_score=False\n",
    "#           n_iter=2\n",
    "#         )\n",
    "\n",
    "# rs.fit(x,y_pmv)\n",
    "# pd.DataFrame(rs.cv_results)[['Parameter_c','param_kernal','mean_test_score']]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# HyperParameter Tuning for multiple models using Randomized search CV"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "model_params={\n",
    "    'svm':{\n",
    "        'model':svm.SVC(gamma='auto'),\n",
    "        'params':{\n",
    "            'C':[1,10,20],\n",
    "            'kernel':['linear','rbf']\n",
    "        }\n",
    "    },\n",
    "    'random_forest':{\n",
    "        'model':RandomForestClassifier(),\n",
    "        'params':{\n",
    "            'n_estimators':[1,5,10]\n",
    "        }\n",
    "    },\n",
    "    'logistic_regresson':{\n",
    "        'model':LogisticRegression(solver='liblinear',multi_class='auto'),\n",
    "        'params':{\n",
    "            'C':[1,5,10]\n",
    "        }\n",
    "    }\n",
    "}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "C:\\Users\\Mohammed Shreef\\anaconda3\\lib\\site-packages\\sklearn\\svm\\_base.py:976: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\n",
      "  warnings.warn(\"Liblinear failed to converge, increase \"\n",
      "C:\\Users\\Mohammed Shreef\\anaconda3\\lib\\site-packages\\sklearn\\svm\\_base.py:976: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\n",
      "  warnings.warn(\"Liblinear failed to converge, increase \"\n",
      "C:\\Users\\Mohammed Shreef\\anaconda3\\lib\\site-packages\\sklearn\\svm\\_base.py:976: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\n",
      "  warnings.warn(\"Liblinear failed to converge, increase \"\n",
      "C:\\Users\\Mohammed Shreef\\anaconda3\\lib\\site-packages\\sklearn\\svm\\_base.py:976: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\n",
      "  warnings.warn(\"Liblinear failed to converge, increase \"\n",
      "C:\\Users\\Mohammed Shreef\\anaconda3\\lib\\site-packages\\sklearn\\svm\\_base.py:976: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\n",
      "  warnings.warn(\"Liblinear failed to converge, increase \"\n"
     ]
    }
   ],
   "source": [
    "from sklearn.model_selection import RandomizedSearchCV\n",
    "scores=[]\n",
    "for model_name,param in model_params.items():\n",
    "    r_search=RandomizedSearchCV(param['model'], param['params'], cv=5, return_train_score=False, n_iter=2)\n",
    "    r_search.fit(x,y_pmv)\n",
    "    scores.append({\n",
    "        'model':model_name,\n",
    "        'best_score':r_search.best_score_,\n",
    "        'best_parameters':r_search.best_params_\n",
    "    })"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [],
   "source": [
    "df=pd.DataFrame(scores, columns=['model','best_score','best_parameters'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>model</th>\n",
       "      <th>best_score</th>\n",
       "      <th>best_parameters</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>svm</td>\n",
       "      <td>0.914717</td>\n",
       "      <td>{'kernel': 'linear', 'C': 1}</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>random_forest</td>\n",
       "      <td>0.840167</td>\n",
       "      <td>{'n_estimators': 10}</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>logistic_regresson</td>\n",
       "      <td>0.710123</td>\n",
       "      <td>{'C': 5}</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                model  best_score               best_parameters\n",
       "0                 svm    0.914717  {'kernel': 'linear', 'C': 1}\n",
       "1       random_forest    0.840167          {'n_estimators': 10}\n",
       "2  logistic_regresson    0.710123                      {'C': 5}"
      ]
     },
     "execution_count": 35,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "SVM model with arguments c=10 and kernel = Linear gives best accuracy"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Model with above best parameters"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.9337791551133583"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "classifier=svm.SVC(kernel='linear',C=10)\n",
    "classifier.fit(x_train,y_train)\n",
    "\n",
    "classifier.score(x_test,y_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([-1,  0,  0,  0,  1,  0,  0, -1,  0,  0], dtype=int64)"
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_predicted=model.predict(x_test)\n",
    "y_predicted[0:10]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Confusion Matrix"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.metrics import plot_confusion_matrix\n",
    "import matplotlib.pyplot as plt"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 2 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "plot_confusion_matrix(classifier,x_test,y_test)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Converting to pickle file"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pickle\n",
    "pickle_out = open(\"classifier.pkl\",\"wb\")\n",
    "pickle.dump(classifier, pickle_out)\n",
    "pickle_out.close()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
